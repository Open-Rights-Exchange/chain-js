# Copyright 2015, Google, Inc.
# Licensed under the Apache License, Version 2.0 (the "License"); you may not use
# this file except in compliance with the License. You may obtain a copy of the
# License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable
# law or agreed to in writing, software distributed under the License is distributed
# on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
# or implied. See the License for the specific language governing permissions and
# limitations under the License.

# Use http://yaml-online-parser.appspot.com to confirm that this file has the right format

version: 2
jobs:
  test:
    machine:
      node:
        version: 10.4.0
    steps:
      - checkout
      - run:
          name: Run tests
          command: |
            export NVM_DIR="/opt/circleci/.nvm"
            [ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
            nvm install 10.4.0 && nvm alias default 10.4.0
            npm install
            npm test
workflows:
  version: 2
  testsonly:
    jobs:
      - test
